*** Под-задача 1: Подготовьте диаграмму контекста в модели С4 ***

Диаграмма доступна по ссылке (вкладка SmartHomeContectC4): https://drive.google.com/file/d/18DYCMwwQTqhgT_S3yG5MtFB_z4syfgiM/view?usp=sharing

*** Под-задача 2: Доработайте диаграмму контейнеров PropDevelopment *** 

Диаграмма доступна по ссылке (вкладка MainSystem): https://drive.google.com/file/d/18DYCMwwQTqhgT_S3yG5MtFB_z4syfgiM/view?usp=sharing

*** Под-задача 3: Cписок требований, которым должны удовлетворить внешние интеграции ***

1. Требования к безопасности:
    Шифрование данных - Все соединения должны использовать TLS 1.2+ (HTTPS) для защиты передаваемой информации.
    Целостность и подлинность данных - Использование HMAC или цифровой подписи для валидации сообщений от внешней платформы.
    Обработка персональных данных - Биометрические и персональные данные должны передаваться в виде хэшей или токенов.
    Защита от повторного запроса - Использование паттернов типа Circle Breaker, чтобы исключить повторную отправку запросов.
    Защита от утечки - Все журналы и логи, содержащие персональные данные, должны быть маскированы или зашифрованы.
    Аудит доступа - Платформа обязана вести логирование всех обращений к API и операций управления доступом.

 2. Протоколы аутентификации и авторизации:
    Аутентификация API между системами - OAuth 2.0 (Client Credentials Grant)
    Авторизация действий - JWT с встроенном scopes
    Время действия токена - Короткоживущие токены (например, 15 минут) + возможность обновления
    Контроль разрешений - ACL на уровне устройства, пользователя и действия (RBAC подход)
    Ограничение по IP - Вызовы API допускаются только с whitelisted адресов

3. Организация взаимодействия между системами:
    Мобильное приложение - Через контроллер PropDevelopment запрашивает/получает статус по API
    Отправка команд (доступ) - REST API к платформе партнёра: POST /api/open/gate с user_id и scope
    События от устройств - Вебхуки или WebSocket — для получения статусов (доступ разрешён / отказан и т.д.)
    Предоставление прав - Платформа PropDevelopment синхронизирует разрешения по REST API (PUT /access)
    Интеграция с CRM - CRM PropDevelopment предоставляет ID, разрешения и список устройств
    Интеграция с BI/логикой - Через промежуточный сервис – event aggregator для обработки активности
